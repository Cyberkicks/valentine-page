:root{
  --bg1:#fffbfb;
  --pink1:#ff7aa2;
  --pink2:#ffbfd6;
  --accent:#ff3b6f;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:'Open Sans', Inter, system-ui, 'Segoe UI', Roboto, 'Helvetica Neue', Arial}
body{background:linear-gradient(180deg,var(--pink2),#ffeef6 40%,var(--bg1));display:flex;align-items:center;justify-content:center;padding:24px}
.center{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center}
.card{background:rgba(255,255,255,0.85);border-radius:16px;padding:28px 36px;text-align:center;box-shadow:0 8px 30px rgba(0,0,0,0.08);max-width:480px;width:100%}
.heart{font-size:48px;color:var(--accent);transform:translateY(-6px)}

/* Audio player */
.audio-player{display:flex;align-items:center;gap:12px;margin-bottom:20px;background:rgba(255,255,255,0.9);padding:12px 18px;border-radius:24px;box-shadow:0 4px 15px rgba(0,0,0,0.1);z-index:100;pointer-events:auto}
.play-btn{background:linear-gradient(90deg,var(--accent),#ff6b99);color:white;border:none;border-radius:50%;width:40px;height:40px;font-size:20px;cursor:pointer;transition:transform 150ms ease,box-shadow 150ms ease;box-shadow:0 4px 12px rgba(255,59,111,0.3)}
.play-btn:hover{transform:scale(1.1)}
.play-btn:active{transform:scale(0.95)}
.volume-slider{width:120px;height:6px;border-radius:3px;background:#ffbfd6;outline:none;-webkit-appearance:none;appearance:none;cursor:pointer}
.volume-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:16px;height:16px;border-radius:50%;background:var(--accent);cursor:pointer;box-shadow:0 2px 8px rgba(255,59,111,0.4)}
.volume-slider::-moz-range-thumb{width:16px;height:16px;border-radius:50%;background:var(--accent);cursor:pointer;border:none;box-shadow:0 2px 8px rgba(255,59,111,0.4)}
.volume-label{font-size:12px;color:#666;font-weight:600;min-width:30px}

@media (max-width:420px){
  .audio-player{gap:8px;padding:10px 12px;margin-bottom:16px}
  .play-btn{width:36px;height:36px;font-size:18px}
  .volume-slider{width:80px}
  .volume-label{font-size:11px;min-width:28px}
}
h1{margin:8px 0 20px;font-size:26px;color:#3b2a2a}

/* larger cat image */
#catval{display:block;margin:0 auto 14px;border-radius:14px;max-width:320px;width:60%;box-shadow:0 10px 28px rgba(0,0,0,0.16);transition:transform .25s ease}

/* floating hearts: colored, bouncing/oscillating while floating up */
.floating-heart{position:fixed;bottom:-40px;pointer-events:none;font-size:20px;z-index:9999;opacity:0;transform:translateX(-50%) scale(1);text-shadow:0 6px 18px rgba(255,100,140,0.18)}
@keyframes floatUp{
  0%{transform:translateX(calc(-50% + var(--dx, 0vw))) translateY(0) scale(0.9);opacity:0}
  10%{opacity:1}
  25%{transform:translateX(calc(-50% + var(--dx, 0vw))) translateY(-18vh) rotate(-18deg) scale(1.06)}
  45%{transform:translateX(calc(-50% + calc(var(--dx, 0vw) * -0.6))) translateY(-40vh) rotate(12deg) scale(1.02)}
  70%{transform:translateX(calc(-50% + calc(var(--dx, 0vw) * 0.5))) translateY(-75vh) rotate(-6deg) scale(1.18)}
  100%{transform:translateX(calc(-50% + 0vw)) translateY(-110vh) rotate(0deg) scale(1.4);opacity:0}
}

.floating-heart.small{font-size:18px}
.floating-heart.med{font-size:26px}
.floating-heart.large{font-size:40px}

/* confetti */
.confetti{position:fixed;border-radius:2px;pointer-events:none;z-index:5}

@media (max-width:420px){#catval{max-width:220px;width:72%}}
h1{margin:8px 0 20px;font-size:26px;color:#3b2a2a}
.buttons{display:flex;gap:28px;justify-content:center;align-items:center}
.btn{cursor:pointer;border:0;border-radius:12px;padding:12px 20px;font-size:16px;transition:transform 180ms ease,background 200ms ease,box-shadow 150ms;box-shadow:0 6px 18px rgba(0,0,0,0.08)}
.btn:active{transform:translateY(2px)}
.yes{background:linear-gradient(90deg,var(--accent),#ff6b99);color:white}
.no{background:#fff;color:#333;border:1px solid rgba(0,0,0,0.06)}
.hidden{display:none}
.result{margin-top:56px;font-weight:600;color:var(--accent)}
.celebrate{animation:pop 700ms ease forwards}
@keyframes pop{0%{transform:scale(.9);opacity:0}60%{transform:scale(1.08);opacity:1}100%{transform:scale(1);opacity:1}}

.media-small{ }
@media (max-width:420px){
  .card{padding:20px}
  .buttons{flex-direction:column;gap:12px}
  .btn{width:100%}
  .result{margin-top:48px}
}

/* Envelope / letter opening styles */
.envelope{position:relative;display:inline-block;perspective:1200px;cursor:pointer;z-index:10}
.envelope__body{background:transparent;border-radius:16px;overflow:visible;display:block}
.envelope__flap{position:absolute;left:0;right:0;top:-6px;height:120px;background:linear-gradient(180deg,#ffdfe8,#ffbfcf);border-radius:12px;box-shadow:0 10px 24px rgba(0,0,0,0.16);transform-origin:top center;transform:rotateX(0deg);transition:transform 1600ms cubic-bezier(.2,.8,.2,1), opacity 700ms;z-index:8}
.envelope__cover{position:absolute;inset:0;background:linear-gradient(180deg,#ffdfe8 0%, #ffccd9 60%);border-radius:16px;z-index:6;box-shadow:0 10px 30px rgba(0,0,0,0.12);transition:opacity 1200ms ease,transform 1200ms ease}
.envelope:not(.open) .envelope__body .card{opacity:0;transform:translateY(18px);transition:opacity 450ms ease,transform 450ms ease}
.envelope.open .envelope__flap{transform:rotateX(-180deg);}
.envelope.open .envelope__cover{opacity:0;transform:translateY(18px);pointer-events:none}
.envelope.open .envelope__body .card{opacity:1;transform:none}

/* position the heart on the outside of the envelope */
.envelope > .heart{position:absolute;left:50%;top:34px;transform:translateX(-50%);font-size:48px;color:var(--accent);z-index:9;pointer-events:none;text-shadow:0 6px 18px rgba(255,100,140,0.18);transition:transform 500ms ease,opacity 300ms}
.envelope.open > .heart{transform:translateX(-50%) translateY(-10px) scale(1.02)}

/* ensure envelope roughly matches the card width */
.envelope__body {position:relative}

/* heart flies away when envelope opens */
.envelope > .heart{position:absolute;left:50%;top:34px;transform:translateX(-50%);font-size:48px;color:var(--accent);z-index:9;pointer-events:none;text-shadow:0 6px 18px rgba(255,100,140,0.18);transition:transform 500ms ease,opacity 300ms}
.envelope > .heart.fly{animation:flyAway 1600ms cubic-bezier(.2,.8,.2,1) forwards}
@keyframes flyAway{0%{opacity:1;transform:translateX(-50%) translateY(0) scale(1)}30%{transform:translateX(calc(-50% + var(--dx, -10vw))) translateY(-18vh) scale(1.05)}100%{transform:translateX(calc(-50% + var(--dx, -10vw))) translateY(-120vh) scale(1.4);opacity:0}}

/* corner monkey and cat */
.corner-monkey{position:fixed;right:18px;bottom:18px;width:280px;max-width:56vw;transform:rotate(-20deg);z-index:1000;pointer-events:none;filter:drop-shadow(0 8px 18px rgba(0,0,0,0.18))}
.corner-cat{position:fixed;left:20px;bottom:22px;width:160px;max-width:34vw;transform:rotate(20deg) translateY(24px);opacity:0;z-index:1001;pointer-events:none;visibility:hidden;transition:transform 600ms cubic-bezier(.2,.9,.2,1),opacity 600ms;display:none}
.corner-cat.show{transform:rotate(20deg) translateY(0);opacity:1;visibility:visible;display:block;pointer-events:auto}
.corner-cat.hidden{display:none;opacity:0;visibility:hidden}
.corner-spongebob{position:fixed;right:20px;top:20px;width:280px;max-width:56vw;transform:rotate(-25deg);z-index:1000;pointer-events:none;filter:drop-shadow(0 8px 18px rgba(0,0,0,0.18))}
.corner-frog{position:fixed;left:20px;top:20px;width:280px;max-width:56vw;transform:rotate(25deg);z-index:1000;pointer-events:none;filter:drop-shadow(0 8px 18px rgba(0,0,0,0.18))}
.corner-coolguy{position:fixed;left:20px;top:340px;width:280px;max-width:56vw;z-index:1000;pointer-events:none;filter:drop-shadow(0 8px 18px rgba(0,0,0,0.18))}
.corner-speed{position:fixed;right:20px;top:340px;width:280px;max-width:56vw;z-index:1000;pointer-events:none;filter:drop-shadow(0 8px 18px rgba(0,0,0,0.18))}

/* mobile-friendly corner images */
@media (max-width:768px){
  .corner-monkey{width:160px;max-width:32vw}
  .corner-spongebob{width:160px;max-width:32vw}
  .corner-frog{width:160px;max-width:32vw}
  .corner-speed{width:160px;max-width:32vw}
  .corner-coolguy{width:160px;max-width:32vw}
}

@media (max-width:480px){
  .corner-monkey{width:100px;max-width:20vw;right:8px;bottom:8px}
  .corner-spongebob{width:100px;max-width:20vw;right:8px;top:8px}
  .corner-frog{width:100px;max-width:20vw;left:8px;top:8px}
  .corner-cat{width:100px;max-width:20vw;left:8px;bottom:8px}
  .corner-speed{width:100px;max-width:20vw;bottom:8px}
  .corner-coolguy{width:100px;max-width:20vw;left:8px;top:50%}
}

